<nav class="relative flex items-center gap-1 justify-between px-4 md:px-40 bg-white shadow-md">
  <!-- Logo -->
  <div class="flex items-center space-x-2 h-20">
    <img src="../../assets/images/logo.webp" alt="Logo" class="h-16" />
  </div>

  <!-- Mobile Menu Button -->
  <button (click)="toggleMobileMenu()" class="md:hidden p-2 text-gray-700 hover:text-blue-600">
    <svg *ngIf="!isMobileMenuOpen" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
      stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
    <svg *ngIf="isMobileMenuOpen" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
      stroke="currentColor" class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>

  <!-- Desktop Menu -->
  <div class="hidden md:flex items-center space-x-6 h-20">
    <a href="#" class="text-gray-700 hover:text-blue-600">Trang chủ</a>
    <a routerLink="/introduce" class="text-gray-700 hover:text-blue-600">Giới thiệu</a>

    <!-- Desktop Dropdown du lịch -->
    <div class="relative group">
      <div class="text-gray-700 hover:text-blue-600 inline-flex items-center h-20 cursor-pointer">
        <a routerLink="/tours" class="inline-flex items-center">
          Du lịch
          <span class="ml-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
              <path fill-rule="evenodd"
                d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
                clip-rule="evenodd" />
            </svg>
          </span>
        </a>
      </div>

      <!-- Desktop Dropdown Menu -->
      <div
        class="dropdown-menu absolute right-3 hidden w-[350px] bg-gray-300 border border-x-blue-400 rounded-lg shadow-lg group-hover:block p-2">
        <div class="grid grid-cols-2 gap-4">
          <!-- Du lịch trong nước -->
          <div>
            <div class="relative mb-4 overflow-hidden group/image">
              <img src="../../assets/images/2.webp" alt="Du lịch trong nước"
                class="w-full h-32 object-cover rounded-lg transition-transform duration-300 group-hover/image:scale-110" />
              <div
                class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/60 to-transparent rounded-b-lg">
                <h3 class="text-white text-center text-[13px] font-bold">Du lịch trong nước</h3>
              </div>
            </div>
            <ul class="space-y-2">
              <li *ngFor="let dest of domesticDestinations">
                <a [routerLink]="dest.link"
                  class="text-gray-700 hover:text-blue-600 hover:no-underline block transition-all duration-200 relative after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-blue-600 after:left-0 after:bottom-0 hover:after:w-full after:transition-all after:duration-300">
                  {{ dest.name }}
                </a>
              </li>
            </ul>
          </div>

          <!-- Du lịch nước ngoài -->
          <div>
            <div class="relative mb-4 overflow-hidden group/image">
              <img src="../../assets/images/3.webp" alt="Du lịch nước ngoài"
                class="w-full h-32 object-cover rounded-lg transition-transform duration-300 group-hover/image:scale-110" />
              <div
                class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/60 to-transparent rounded-b-lg">
                <h3 class="text-white text-center text-[13px] font-bold">Du lịch nước ngoài</h3>
              </div>
            </div>
            <ul class="space-y-2">
              <li *ngFor="let dest of internationalDestinations">
                <a [routerLink]="dest.link"
                  class="text-gray-700 hover:text-blue-600 hover:no-underline block transition-all duration-200 relative after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-blue-600 after:left-0 after:bottom-0 hover:after:w-full after:transition-all after:duration-300">
                  {{ dest.name }}
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Other Desktop Menu Items -->
    <div class="relative group">
      <div class="inline-flex items-center h-20 hover:text-blue-600">
        <a routerLink="/travel-list" class="text-gray-700 inline-flex items-center">
          Cẩm nang du lịch
          <span class="ml-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
              <path fill-rule="evenodd"
                d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
                clip-rule="evenodd" />
            </svg>
          </span>
        </a>
      </div>
      <div
        class="dropdown-menu absolute left-0 hidden w-48 bg-white border border-gray-200 rounded-lg shadow-lg group-hover:block transform transition-all duration-300 origin-top opacity-0 group-hover:opacity-100 scale-95 group-hover:scale-100">
        <a href="/info" 
          class="block px-4 py-2 text-gray-700 transition-all duration-300 rounded-lg relative 
          hover:pl-6 hover:text-blue-600
          before:absolute before:left-0 before:top-0 before:h-full before:w-0 before:bg-blue-50 before:transition-all before:duration-300
          hover:before:w-full before:-z-10">
          Chi phí dịch vụ làm visa đi nước ngoài cho người Việt
        </a>
      </div>
    </div>

    <a routerLink="/phone" class="text-gray-700 hover:text-blue-600">Liên hệ</a>
    <a routerLink="/system" class="text-gray-700 hover:text-blue-600">Hệ thống</a>
  </div>

  <!-- Desktop User Account and Contact -->
  <div class="hidden md:flex items-center space-x-6 h-20">
    <div class="relative group">
      <button class="flex items-center space-x-1 text-gray-700 hover:text-blue-600">
        <img src="//bizweb.dktcdn.net/100/489/447/themes/912592/assets/ava-w.svg?1727949731530"
          class="w-[50px] h-[50px] p-1 rounded-full text-black avatar" />
        <span>Tài khoản</span>
        <span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
            <path fill-rule="evenodd"
              d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd" />
          </svg>
        </span>
      </button>
      <div
        class="dropdown-menu absolute right-0 hidden w-48 bg-white border border-gray-200 rounded-lg shadow-lg group-hover:block">
        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Thông tin tài khoản</a>
        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Giỏ hàng <span>()</span></a>
        <a routerLink="/followed-tour" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Tour yêu thích</a>
        <a (click)="logout()" class="block px-4 py-2 text-gray-700 hover:bg-blue-100">Đăng xuất</a>
      </div>
    </div>

    <div class="flex w-36 flex-col items-center space-x-2 text-orange-600">
      <div class="flex">
        <span class="material-icons">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd"
              d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
              clip-rule="evenodd" />
          </svg>
        </span>
        <span class="text-lg font-bold">1900.6750</span>
      </div>
      <span class="text-gray-500">7h30 → 21h</span>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div *ngIf="isMobileMenuOpen" class="absolute top-20 left-0 right-0 bg-white shadow-lg md:hidden z-50 min-h-screen">
    <!-- Main Menu -->
    <div *ngIf="currentMobileView === 'main'" class="flex flex-col p-4 space-y-4">
      <a href="#" class="text-gray-700 hover:text-blue-600">Trang chủ</a>
      <a routerLink="/introduce" class="text-gray-700 hover:text-blue-600">Giới thiệu</a>

      <button (click)="setMobileView('dulich')"
        class="flex items-center justify-between w-full text-left text-gray-700 hover:text-blue-600">
        <span>Du lịch</span>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>

      <button (click)="setMobileView('camnang')"
        class="flex items-center justify-between w-full text-left text-gray-700 hover:text-blue-600">
        <span>Cẩm nang du lịch</span>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>

      <a routerLink="/phone" class="text-gray-700 hover:text-blue-600">Liên hệ</a>
      <a routerLink="/system" class="text-gray-700 hover:text-blue-600">Hệ thống</a>

      <button (click)="setMobileView('account')"
        class="flex items-center justify-between w-full text-left text-gray-700 hover:text-blue-600">
        <div class="flex items-center space-x-2">
          <img src="//bizweb.dktcdn.net/100/489/447/themes/912592/assets/ava-w.svg?1727949731530"
            class="w-8 h-8 rounded-full" alt="User avatar" />
          <span>Tài khoản</span>
        </div>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>

      <!-- Contact Info -->
      <div class="border-t pt-4">
        <div class="flex items-center justify-center space-x-2 text-orange-600">
          <span class="material-icons">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path fill-rule="evenodd"
                d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
                clip-rule="evenodd" />
            </svg>
          </span>
          <span class="text-lg font-bold">1900.6750</span>
        </div>
        <div class="text-center text-gray-500 mt-1">7h30 → 21h</div>
      </div>
    </div>

    <!-- Du lịch View -->
    <div *ngIf="currentMobileView === 'dulich'" class="p-4">
      <button (click)="setMobileView('main')"
        class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        <span>Quay lại</span>
      </button>

      <a href="/tours">
        <h2 class="font-bold text-lg mb-4">Du lịch</h2>
      </a>

      <div class="space-y-6">
        <div>
          <h3 class="font-bold mb-2">Du lịch trong nước</h3>
          <div class="space-y-2">
            <a *ngFor="let dest of domesticDestinations" [routerLink]="dest.link"
              class="block text-gray-700 hover:text-blue-600 py-2">
              {{ dest.name }}
            </a>
          </div>
        </div>

        <div>
          <h3 class="font-bold mb-2">Du lịch nước ngoài</h3>
          <div class="space-y-2">
            <a *ngFor="let dest of internationalDestinations" [routerLink]="dest.link"
              class="block text-gray-700 hover:text-blue-600 py-2">
              {{ dest.name }}
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Cẩm nang View -->
    <div *ngIf="currentMobileView === 'camnang'" class="p-4">
      <button (click)="setMobileView('main')"
        class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        <span>Quay lại</span>
      </button>

      <a href="/travel-list">
        <h2 class="font-bold text-lg mb-4">Cẩm nang du lịch</h2>
      </a>

      <a href="/info" class="block text-gray-700 hover:text-blue-600 py-2">
        Chi phí dịch vụ làm visa đi nước ngoài cho người Việt
      </a>
    </div>

    <!-- Account View -->
    <div *ngIf="currentMobileView === 'account'" class="p-4">
      <button (click)="setMobileView('main')"
        class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        <span>Quay lại</span>
      </button>

      <h2 class="font-bold text-lg mb-4">Tài khoản</h2>

      <div class="space-y-2">
        <a href="#" class="block text-gray-700 hover:text-blue-600 py-2">Thông tin tài khoản</a>
        <a href="#" class="block text-gray-700 hover:text-blue-600 py-2">Giỏ hàng <span>()</span></a>
        <a routerLink="/followed-tour" class="block text-gray-700 hover:text-blue-600 py-2">Tour yêu thích</a>
        <a (click)="logout()" class="block text-gray-700 hover:text-blue-600 py-2">Đăng xuất</a>
      </div>
    </div>
  </div>
</nav>